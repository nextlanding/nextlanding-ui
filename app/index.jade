!!!5
//- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/
- var beg = '<html class="no-js'
- var end = '" lang="en" ng-app="app">'

//if lte IE 7
  script(src='http://cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js')

//if lt IE 7
  != beg + ' lt-ie9 lt-ie8 lt-ie7' + end
  //- Prompt IE 6 users to install Chrome Frame. Remove this if you want to support IE 6.
    chromium.org/developers/how-tos/chrome-frame-getting-started
  script(defer, src='//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js')
  script(defer) window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})

//if IE 7
  != beg + ' lt-ie9 lt-ie8' + end

//if IE 8
  != beg + ' lt-ie9' + end

//- Consider adding a manifest.appcache: h5bp.com/d/Offline
//if gt IE 8
  != '<!-->' + beg + end + '<!--'
head
  meta(charset='utf-8')
  meta(http-equiv="X-UA-Compatible", content="IE=edge,chrome=1")
  meta(name='viewport', content='width=device-width', initial-scale='1.0')
  meta(name='description', content='')
  meta(name='author', content='')
  title(ng-bind-template='{{pageTitle}}')
  link(href='//fonts.googleapis.com/css?family=Montserrat|Open+Sans', rel='stylesheet', type='text/css')
  link(href='//netdna.bootstrapcdn.com/font-awesome/4.0.0/css/font-awesome.css', rel='stylesheet', type='text/css')
  link(rel='stylesheet', href='/css/app.css')
  //-
    All JavaScript at the bottom, except this Modernizr build incl. Respond.js
    Respond is a polyfill for min/max-width media queries. Modernizr enables HTML5 elements & feature detects;
    for optimal performance, create your own custom Modernizr build: www.modernizr.com/download/
  script(src='/js/modernizr.js')
  script
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  script
    (function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===e.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2.2.min.js';f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f);b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==
      typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");for(g=0;g<i.length;g++)f(c,i[g]);
      b._i.push([a,e,d])};b.__SV=1.2}})(document,window.mixpanel||[]);

  script.
    window.brunch = window.brunch || {};
    window.brunch['auto-reload'] = {
      enabled: true
    };
body(ng-controller='AppCtrl', ng-class="{'alt-section web-app-body':state.current.data.style.webAppStyle,'admin-body':state.current.data.style.AdminStyle, 'modal-open':state.current.data.modal}")
  ng-include(src="'/_public/js/main/nav.html'")
  .main-content
    ui-view
  ng-include(src="'/_public/js/main/footer.html'")
  //- JavaScript at the bottom for fast page loading
  //- Google map must be loaded first because the ng-google-map-service assumes the google object is available
  script(src='//maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&libraries=drawing')
  script(src='/js/vendor.js')
  script(src='/js/templates.js')
  script(src='/js/app.js')
